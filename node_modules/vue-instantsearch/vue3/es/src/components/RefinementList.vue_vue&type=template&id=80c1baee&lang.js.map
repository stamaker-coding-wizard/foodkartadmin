{"version":3,"file":"RefinementList.vue_vue&type=template&id=80c1baee&lang.js","sources":["../../../../src/components/RefinementList.vue?vue&type=template&id=80c1baee&lang.js"],"sourcesContent":["<template>\n  <div\n    :class=\"[suit(), !state.canRefine && suit('', 'noRefinement')]\"\n    v-if=\"state\"\n  >\n    <slot\n      :items=\"items\"\n      :refine=\"refine\"\n      :search-for-items=\"state.searchForItems\"\n      :search-for-items-query=\"searchForFacetValuesQuery\"\n      :toggle-show-more=\"toggleShowMore\"\n      :can-toggle-show-more=\"state.canToggleShowMore\"\n      :is-showing-more=\"state.isShowingMore\"\n      :createURL=\"state.createURL\"\n      :is-from-search=\"state.isFromSearch\"\n      :can-refine=\"state.canRefine\"\n      :send-event=\"state.sendEvent\"\n    >\n      <div :class=\"suit('searchBox')\" v-if=\"searchable\">\n        <search-input\n          v-model=\"searchForFacetValues\"\n          :placeholder=\"searchablePlaceholder\"\n          :class-names=\"classNames\"\n        />\n      </div>\n      <slot\n        name=\"noResults\"\n        :query=\"searchForFacetValues\"\n        v-if=\"state.isFromSearch && items.length === 0\"\n      >\n        <div :class=\"suit('noResults')\">No results.</div>\n      </slot>\n      <ul :class=\"suit('list')\">\n        <li\n          :class=\"[suit('item'), item.isRefined && suit('item', 'selected')]\"\n          v-for=\"item in items\"\n          :key=\"item.value\"\n        >\n          <slot\n            name=\"item\"\n            :item=\"item\"\n            :refine=\"refine\"\n            :createURL=\"state.createURL\"\n          >\n            <label :class=\"suit('label')\">\n              <input\n                :class=\"suit('checkbox')\"\n                type=\"checkbox\"\n                :value=\"item.value\"\n                :checked=\"item.isRefined\"\n                @change=\"refine(item.value)\"\n              />\n              <span v-if=\"searchable\" :class=\"suit('labelText')\">\n                <ais-highlight attribute=\"item\" :hit=\"item\" />\n              </span>\n              <span v-else :class=\"suit('labelText')\">{{ item.label }}</span>\n              <span :class=\"suit('count')\">{{ item.count }}</span>\n            </label>\n          </slot>\n        </li>\n      </ul>\n      <button\n        :class=\"[\n          suit('showMore'),\n          {\n            [suit('showMore', 'disabled')]: !state.canToggleShowMore,\n          },\n        ]\"\n        @click=\"toggleShowMore\"\n        v-if=\"showMore\"\n        :disabled=\"!state.canToggleShowMore\"\n      >\n        <slot name=\"showMoreLabel\" :is-showing-more=\"state.isShowingMore\">\n          Show {{ state.isShowingMore ? 'less' : 'more' }}\n        </slot>\n      </button>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectRefinementList } from 'instantsearch.js/es/connectors';\n\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\nimport { createWidgetMixin } from '../mixins/widget';\n\nimport AisHighlight from './Highlight.vue';\nimport SearchInput from './SearchInput.vue';\n\nconst noop = () => {};\n\nexport default {\n  name: 'AisRefinementList',\n  components: { SearchInput, AisHighlight },\n  mixins: [\n    createSuitMixin({ name: 'RefinementList' }),\n    createWidgetMixin(\n      {\n        connector: connectRefinementList,\n      },\n      {\n        $$widgetType: 'ais.refinementList',\n      }\n    ),\n    createPanelConsumerMixin(),\n  ],\n  props: {\n    attribute: {\n      type: String,\n      required: true,\n    },\n    searchable: {\n      type: Boolean,\n      default: undefined,\n    },\n    searchablePlaceholder: {\n      type: String,\n      required: false,\n      default: 'Search hereâ€¦',\n    },\n    operator: {\n      default: 'or',\n      validator(value) {\n        return value === 'and' || value === 'or';\n      },\n      required: false,\n    },\n    limit: {\n      type: Number,\n      required: false,\n      default: undefined,\n    },\n    showMoreLimit: {\n      type: Number,\n      required: false,\n      default: undefined,\n    },\n    showMore: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    sortBy: {\n      type: [Array, Function],\n      required: false,\n      default: undefined,\n    },\n    transformItems: {\n      type: Function,\n      required: false,\n      default: undefined,\n    },\n  },\n  data() {\n    return {\n      searchForFacetValuesQuery: '',\n    };\n  },\n  computed: {\n    searchForFacetValues: {\n      get() {\n        return this.searchForFacetValuesQuery;\n      },\n      set(value) {\n        this.state.searchForItems(value);\n        this.searchForFacetValuesQuery = value;\n      },\n    },\n    toggleShowMore() {\n      return this.state.toggleShowMore || noop;\n    },\n    items() {\n      return this.state.items.map((item) =>\n        Object.assign({}, item, {\n          _highlightResult: {\n            item: {\n              value: item.highlighted,\n            },\n          },\n        })\n      );\n    },\n    widgetParams() {\n      return {\n        attribute: this.attribute,\n        operator: this.operator,\n        limit: this.limit,\n        showMore: this.showMore,\n        showMoreLimit: this.showMoreLimit,\n        sortBy: this.sortBy,\n        escapeFacetValues: true,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n  methods: {\n    refine(value) {\n      this.state.refine(value);\n      this.searchForFacetValuesQuery = '';\n    },\n  },\n};\n</script>\n"],"names":["_ctx","_createElementBlock","class","canRefine","_renderSlot","items","$options","refine","searchForItems","searchForItemsQuery","$data","toggleShowMore","canToggleShowMore","isShowingMore","createURL","isFromSearch","sendEvent","$props","_createVNode","placeholder","class-names","length","query","_createElementVNode","item","isRefined","key","value","type","checked","onChange","attribute","hit","label","count","onClick","disabled"],"mappings":"2XAGUA,aAFRC,eACGC,SAAQF,UAASA,QAAMG,WAAaH,8BAGrCI,sBACGC,MAAOC,QACPC,OAAQD,SACRE,eAAkBR,QAAMQ,eACxBC,oBAAwBC,4BACxBC,eAAkBL,iBAClBM,kBAAsBZ,QAAMY,kBAC5BC,cAAiBb,QAAMa,cACvBC,UAAWd,QAAMc,UACjBC,aAAgBf,QAAMe,aACtBZ,UAAYH,QAAMG,UAClBa,UAAYhB,QAAMgB,mCAEmBC,kBAAtChB,eAAMC,QAAOF,uBACXkB,gBACWZ,4EAAAA,2BACRa,YAAaF,wBACbG,cAAapB,+EAMVA,QAAMe,kBAAgBT,QAAMe,OAHpCjB,8BAEGkB,MAAOhB,0CAGRiB,SAAMrB,QAAOF,sBAAmB,6BAElCuB,QAAKrB,QAAOF,yBACVC,WAEiBK,iBAARkB,cAFTvB,QACGC,SAAQF,eAAcwB,EAAKC,WAAazB,4BAExC0B,IAAKF,EAAKG,QAEXvB,mBAEGoB,KAAMA,EACNjB,OAAQD,SACRQ,UAAWd,QAAMc,6BAElBS,WAAQrB,QAAOF,mBACbuB,WACGrB,QAAOF,oBACR4B,KAAK,WACJD,MAAOH,EAAKG,MACZE,QAASL,EAAKC,UACdK,4BAAQxB,SAAOkB,EAAKG,oBAEXV,kBAAZhB,gBAAyBC,QAAOF,uBAC9BkB,KAAea,UAAU,OAAQC,IAAKR,6BAExCvB,gBAAcC,QAAOF,wBAAsBwB,EAAKS,WAChDV,UAAOrB,QAAOF,oBAAkBwB,EAAKU,iCAarCjB,gBARRhB,kBACGC,mGAMAiC,6FAAO7B,gDAEP8B,UAAWpC,QAAMY,oBAElBR,4BAA4BS,cAAiBb,QAAMa,8CACzCb,QAAMa"}